       'customerName' => $customer_name,
            'totalAmount' => $line_total,
            'currency' => $order->get_currency(),
            'tenantId' => 'localcatalyst',
        ];

        if ($wc_variation_id) {
            $payload['wcVariationId'] = intval($wc_variation_id);
        }

        // POST to Convex /orders/webhook with Bearer token auth
        $response = wp_remote_post(rtrim($convex_url, '/') . '/orders/webhook', [
            'body' => json_encode($payload),
            'headers' => [
                'Content-Type' => 'application/json',
                'Authorization' => 'Bearer ' . $convex_token,
            ],
            'timeout' => 15,
        ]);

        if (is_wp_error($response)) {
            error_log("[OpenClaw Bridge] Convex webhook failed for order #{$order_id}, product #{$wc_product_id}: " . $response->get_error_message());
            $order->add_order_note("OpenClaw: Failed to create intake form — {$response->get_error_message()}");
            continue;
        }

        $resp_body = json_decode(wp_remote_retrieve_body($response), true);
        $resp_code = wp_remote_retrieve_response_code($response);

        if ($resp_code !== 200 || empty($resp_body['accessToken'])) {
            $err = $resp_body['error'] ?? "HTTP {$resp_code}";
            error_log("[OpenClaw Bridge] Convex webhook non-200 for order #{$order_id}: {$err}");
            $order->add_order_note("OpenClaw: Webhook error — {$err}");
            continue;
    