    }

        // Store the access token for redirect on thank-you page
        $order->update_meta_data('_openclaw_access_token', $resp_body['accessToken']);
        $order->update_meta_data('_openclaw_product_slug', $resp_body['productSlug'] ?? '');
        $order->update_meta_data('_openclaw_order_id', $resp_body['orderId'] ?? '');
        $order->save();

        $order->add_order_note(
            sprintf('OpenClaw: Intake form ready for %s (product %d).', $resp_body['productSlug'] ?? 'unknown', $wc_product_id)
        );
    }
}, 10, 1);

// ─── WC THANK-YOU PAGE REDIRECT ─────────────────────────────────────
// After payment, redirect customer to the intake form in the dashboard.

add_action('woocommerce_thankyou', function ($order_id) {
    $order = wc_get_order($order_id);
    if (!$order) return;

    $access_token = $order->get_meta('_openclaw_access_token');
    if (!$access_token || $access_token === 'EXISTING_ORDER') return;

    $product_slug = $order->get_meta('_openclaw_product_slug');

    // Dashboard intake form URL — wp-config.php constant or WP option
    $dashboard_url = defined('OPENCLAW_DASHBOARD_URL')
        ? OPENCLAW_DASHBOARD_URL
        : (get_option('openclaw_dashboard_url') ?: 'https://dashboard.localcatalyst.com');

    $intake_url = rtrim($dashboard_url, '/') . "/intake/{$order_id}?token=" . urlencode($access_token);

    // Output a redirect notice + auto-redi