  X-OpenClaw-Signature: HMAC-SHA256 hex digest
 *
 * Signature covers: timestamp + ":" + HTTP_METHOD + ":" + request_path + ":" + sha256(body)
 */
function openclaw_verify_hmac(WP_REST_Request $request) {
    $timestamp = $request->get_header('X-OpenClaw-Timestamp');
    $signature = $request->get_header('X-OpenClaw-Signature');

    if (!$timestamp || !$signature) {
        return new WP_Error(
            'openclaw_missing_auth',
            'Missing X-OpenClaw-Timestamp or X-OpenClaw-Signature header.',
            ['status' => 401]
        );
    }

    // Replay protection — reject requests older than 5 minutes
    $now = time();
    if (abs($now - intval($timestamp)) > OPENCLAW_BRIDGE_TIMESTAMP_TOLERANCE) {
        return new WP_Error(
            'openclaw_expired',
            'Request timestamp outside tolerance window.',
            ['status' => 401]
        );
    }

    // Reconstruct the signed payload
    $method = $request->get_method();
    $path = $request->get_route();
    $body = $request->get_body();
    $body_hash = hash('sha256', $body ?: '');
    $payload = "{$timestamp}:{$method}:{$path}:{$body_hash}";

    // Compute expected signature
    $expected = hash_hmac('sha256', $payload, OPENCLAW_BRIDGE_SECRET);

    // Constant-time comparison to prevent timing attacks
    if (!hash_equals($expected, $signature)) {
        error_log("[OpenClaw Bridge] HMAC verification failed from " . $_SERVER['REMOTE_ADDR']);
        return new WP_Error(
            'ope